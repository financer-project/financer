model TransactionTemplate {
  id          String   @id @default(uuid())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  name        String
  description String?
  type        TransactionType
  amount      Float

  // Recurrence
  frequency   RecurrenceFrequency
  startDate   DateTime
  endDate     DateTime?
  nextDueDate DateTime
  isActive    Boolean  @default(true)

  // Relations
  account        Account       @relation(fields: [accountId], references: [id])
  accountId      String
  category       Category?     @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  categoryId     String?
  counterparty   Counterparty? @relation(fields: [counterpartyId], references: [id], onDelete: SetNull)
  counterpartyId String?
  household      Household     @relation(name: "HouseholdTransactionTemplates", fields: [householdId], references: [id])
  householdId    String
  createdBy      User?         @relation("TransactionTemplateCreatedBy", fields: [createdById], references: [id])
  createdById    String?

  // Transactions created from this template
  transactions   Transaction[] @relation("TemplateTransactions")
}

enum RecurrenceFrequency {
  DAILY
  WEEKLY
  MONTHLY
  YEARLY
}
